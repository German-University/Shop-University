var L=Object.defineProperty;var S=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var w=(e,t,o)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,y=(e,t)=>{for(var o in t||(t={}))U.call(t,o)&&w(e,o,t[o]);if(S)for(var o of S(t))W.call(t,o)&&w(e,o,t[o]);return e};import{d as C,r as _,o as u,c as p,a as l,t as f,b as i,u as q,l as F,e as b,f as c,w as h,F as I,g as O,h as V,i as v,p as M,j as z,m as H,k as J,n as B,q as D,s as R,v as K,x as G,y as Q,z as X,A as P,B as Y,C as Z}from"./vendor.046a8ddb.js";const ee=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerpolicy&&(n.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?n.credentials="include":s.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}};ee();const k=C("AuthUserStore",{state:()=>({username:"\u0413\u0435\u0440\u043C\u0430\u043D \u0428\u043B\u044F\u0439\u0433\u0435\u0440"}),actions:{visitTwitterProfile(){window.open("http://portal.ukgu.kz/kz","_blank")}}}),te={class:"whitespace-nowrap"},oe={class:"inline-block w-12 text-right"},se={props:{product:{type:Object,required:!0},count:{type:Number,required:!0}},emits:["updateCount","clear"],setup(e){return(t,o)=>{const r=_("AppCountInput"),s=_("fa");return u(),p("li",null,[l("span",null,f(e.product.name),1),l("span",te,[i(r,{"model-value":e.count,"onUpdate:modelValue":o[0]||(o[0]=n=>t.$emit("updateCount",n))},null,8,["model-value"]),l("span",oe,"$"+f(e.count*e.product.price),1),l("span",{class:"ml-4",onClick:o[1]||(o[1]=n=>t.$emit("clear"))},[i(s,{icon:"trash-alt"})])])])}}},N=C("CartStore",{historyEnabled:!0,state:()=>({items:q("CartStore:items",[]),test:"hello world"}),getters:{count:e=>e.items.length,isEmpty:e=>e.count===0,grouped:e=>{const t=F.exports.groupBy(e.items,s=>s.name),o=Object.keys(t).sort();let r={};return o.forEach(s=>r[s]=t[s]),r},groupCount:e=>t=>e.grouped[t].length,total:e=>e.items.reduce((t,o)=>t+o.price,0)},actions:{checkout(){const e=k();alert(`${e.username} \u0432\u044B \u0442\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E \u043A\u0443\u043F\u0438\u043B\u0438 ${this.count}\u0442\u043E\u0432\u0430\u0440\u043E\u0432 \u043D\u0430 \u0441\u0443\u043C\u043C\u0443 \u20B8{this.total}`)},addItems(e,t){e=parseInt(e);for(let o=0;o<e;o++)this.items.push(y({},t))},clearItem(e){this.items=this.items.filter(t=>t.name!==e)},setItemCount(e,t){this.clearItem(e.name),this.addItems(t,e)}}});var g=(e,t)=>{for(const[o,r]of t)e[o]=r;return e};const ne=e=>(M("data-v-eabca5f2"),e=e(),z(),e),re={class:"relative"},ae={class:"cart-count absolute"},le={key:0},ue={class:"items-in-cart"},ie={class:"flex justify-end text-2xl mb-5"},ce=v(" \u0412\u0441\u0435\u0433\u043E: "),de={class:"flex justify-end"},pe=v("\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C"),me=v("\u041F\u0440\u043E\u0432\u0435\u0440\u0438\u0442\u044C"),_e={key:1},fe=ne(()=>l("em",null,"\u041E\u0431\u044F\u0437\u0430\u0442\u0435\u043B\u044C\u043D\u043E",-1)),ve=[fe],he={setup(e){const t=N(),o=b(!1);return(r,s)=>{const n=_("fa"),a=_("AppButton"),d=_("AppModalOverlay");return u(),p("div",re,[l("span",{class:"cursor-pointer",onClick:s[0]||(s[0]=m=>o.value=!0)},[i(n,{icon:"shopping-cart",size:"lg",class:"text-gray-700"}),l("div",ae,f(c(t).count),1)]),i(d,{active:o.value,onClose:s[2]||(s[2]=m=>o.value=!1)},{default:h(()=>[c(t).isEmpty?(u(),p("div",_e,ve)):(u(),p("div",le,[l("ul",ue,[(u(!0),p(I,null,O(c(t).grouped,(m,$)=>(u(),V(se,{key:$,product:m[0],count:c(t).groupCount($),onUpdateCount:x=>c(t).setItemCount(m[0],x),onClear:x=>c(t).clearItem($)},null,8,["product","count","onUpdateCount","onClear"]))),128))]),l("div",ie,[ce,l("strong",null,"$"+f(c(t).total),1)]),l("div",de,[i(a,{class:"secondary mr-2",onClick:s[1]||(s[1]=m=>c(t).$reset())},{default:h(()=>[pe]),_:1}),i(a,{class:"primary",onClick:c(t).checkout},{default:h(()=>[me]),_:1},8,["onClick"])])]))]),_:1},8,["active"])])}}};var ge=g(he,[["__scopeId","data-v-eabca5f2"]]);const ye={components:{CartWidget:ge},computed:y({},H(k,{user:"username"})),methods:y({},J(k,{toTwitter:"visitTwitterProfile"}))},$e={class:"flex justify-between p-6 mb-10 items-center",style:{"background-image":"url('/images/double-bubble-outline.png')"}},Ce=l("h1",{class:"text-4xl text-gray-700 font-bold"},"\u0410\u043D\u0430\u043D\u0430\u0441\u043E\u0432\u044B\u0439 \u043C\u0430\u0433\u0430\u0437\u0438\u043D",-1);function be(e,t,o,r,s,n){const a=_("CartWidget");return u(),p("header",$e,[Ce,l("div",null,[l("span",{class:"mr-5",onClick:t[0]||(t[0]=(...d)=>e.toTwitter&&e.toTwitter(...d))},f(e.user),1),i(a,{class:"inline-block"})])])}var ke=g(ye,[["render",be]]);const Ae=["value"],xe={props:{modelValue:{type:[Number,String],default:0}},emits:["update:modelValue","input"],setup(e,{emit:t}){const o=r=>{r!==""&&t("update:modelValue",r)};return(r,s)=>(u(),p("span",null,[l("button",{class:"cursor-pointer bg-gray-200 px-2 rounded-l",onClick:s[0]||(s[0]=n=>o(e.modelValue>0?e.modelValue-1:null))}," - "),l("input",{value:e.modelValue,type:"number",min:"0",onInput:s[1]||(s[1]=n=>o(n.target.value))},null,40,Ae),l("button",{class:"bg-gray-200 px-2 rounded-r cursor-pointer",onClick:s[2]||(s[2]=n=>o(e.modelValue+1))}," + ")]))}};var T=g(xe,[["__scopeId","data-v-c1734816"]]);const Se={class:"card"},we=["src"],Ie={class:"text-green-500"},Oe={class:"text-center m-4"},Ve=v("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u043A\u043E\u0440\u0437\u0438\u043D\u0443"),Be={props:{product:Object},emits:["addToCart"],setup(e){const t=b(0);return(o,r)=>{const s=_("AppButton");return u(),p("li",Se,[l("img",{src:`/images/${e.product.image}`,class:"mb-3",width:"300"},null,8,we),l("div",null,[v(f(e.product.name)+" - ",1),l("span",Ie,"\u20B8"+f(e.product.price),1),l("div",Oe,[i(T,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=n=>t.value=n)},null,8,["modelValue"])]),i(s,{class:"primary",onClick:r[1]||(r[1]=n=>(o.$emit("addToCart",t.value),t.value=0))},{default:h(()=>[Ve]),_:1})])])}}},Pe="modulepreload",E={},Ne="/",Te=function(t,o){return!o||o.length===0?t():Promise.all(o.map(r=>{if(r=`${Ne}${r}`,r in E)return;E[r]=!0;const s=r.endsWith(".css"),n=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const a=document.createElement("link");if(a.rel=s?"stylesheet":Pe,s||(a.as="script",a.crossOrigin=""),a.href=r,document.head.appendChild(a),s)return new Promise((d,m)=>{a.addEventListener("load",d),a.addEventListener("error",m)})})).then(()=>t())},Ee=C("ProductStore",{state:()=>({products:[]}),actions:{async fill(){this.products=(await Te(()=>import("./products.83918805.js"),[])).default}}});const je={},Le={class:"bg-gray-700 text-white rounded p-2 text-sm"};function Ue(e,t){return u(),p("button",Le,[B(e.$slots,"default",{},void 0,!0)])}var A=g(je,[["render",Ue],["__scopeId","data-v-f95496a0"]]);const We={class:"container"},qe={class:"mb-5 flex justify-end"},Fe=v("\u041D\u0430\u0437\u0430\u0434"),Me=v("\u0412\u043F\u0435\u0440\u0435\u0434"),ze={class:"sm:flex flex-wrap lg:flex-nowrap gap-5"},He={setup(e){const t=Ee(),o=N();return o.$onAction(({name:r,store:s,args:n,after:a,onError:d})=>{r==="addItems"&&(a(()=>{console.log(n[0])}),d(m=>{console.log("Hello error: ",m.message)}))}),t.fill(),(r,s)=>(u(),p("div",We,[i(ke),l("div",qe,[i(A,{onClick:c(o).undo},{default:h(()=>[Fe]),_:1},8,["onClick"]),i(A,{class:"ml-2",onClick:c(o).redo},{default:h(()=>[Me]),_:1},8,["onClick"])]),l("ul",ze,[(u(!0),p(I,null,O(c(t).products,n=>(u(),V(Be,{key:n.name,product:n,onAddToCart:a=>c(o).addItems(a,n)},null,8,["product","onAddToCart"]))),128))])]))}};D.add(R,K,G);var Je=e=>{e.component("fa",Q)};const De={key:0,class:"modal-overlay"},Re={class:"modal-overlay-content"},Ke={props:{active:{type:Boolean,default:!1}},emits:["close"],setup(e){return(t,o)=>{const r=_("fa");return e.active?(u(),p("div",De,[l("div",{class:"modal-overlay-bg",onClick:o[0]||(o[0]=s=>t.$emit("close"))}),l("div",Re,[l("span",{class:"close",onClick:o[1]||(o[1]=s=>t.$emit("close"))},[i(r,{icon:"window-close",class:"text-gray-700"})]),B(t.$slots,"default",{},void 0,!0)])])):X("",!0)}}};var Ge=g(Ke,[["__scopeId","data-v-6620424c"]]);function Qe({pinia:e,app:t,store:o,options:r}){if(!r.historyEnabled)return;const s=P([]),n=P([]),a=b(!1);return s.push(JSON.stringify(o.$state)),o.$subscribe((d,m)=>{a.value||(s.push(JSON.stringify(m)),n.splice(0,n.length))}),{history:s,future:n,undo:()=>{s.length!==1&&(a.value=!0,n.push(s.pop()),o.$state=JSON.parse(s.at(-1)),a.value=!1)},redo:()=>{const d=n.pop();!d||(a.value=!0,s.push(d),o.$state=JSON.parse(d),a.value=!1)}}}const j=Y();j.use(Qe);Z(He).use(j).use(Je).component("AppButton",A).component("AppCountInput",T).component("AppModalOverlay",Ge).mount("#app");
